define("pagelet/myfav/components/my_fav_list.jsx",function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("react"),l=i(n),s=t("reactRouter"),o=t("jquery"),d=i(o),c=t("pagelet/widget/components/header.jsx"),u=i(c),r=t("pagelet/widget/components/loading.jsx"),p=i(r),f=t("pagelet/widget/components/tabs.jsx"),m=(i(f),t("pagelet/widget/components/appItem.jsx")),h=i(m),g=t("constants"),v=t("pagelet/appdetail/action/action"),y=i(v),S=t("pagelet/appdetail/store/store"),b=(i(S),t("pagelet/myfav/action/action")),x=i(b),I=t("pagelet/myfav/store/store"),j=i(I),C=l["default"].createClass({displayName:"MyFav",mixins:[s.History],getInitialState:function(){return{loading:!0,list:[]}},componentDidMount:function(){this.unSubscribe=j["default"].listen(this.onStateChange.bind(this)),x["default"].fetFavLsit()},componentWillUnmount:function(){this.unSubscribe()},onStateChange:function(t){this.setState(t)},onDelete:function(t){var e=t.id||t.appId;y["default"].addFav(e,"cancel");var a=this.state.list.filter(function(t){return t.id=t.id||t.appId,t.id==e?t:void 0})[0]||null;a&&(this.state.list.splice(this.state.list.indexOf(a),1),this.setState({list:this.state.list}))},onItemClick:function(t){var e=(this.props.location.query||{},d["default"].extend({},t)),a="/detail/1";e.id=e.id||e.appId,e.device=g.deviceStrToint[e.device],e.country=g.countryToCode[e.country],this.history.pushState(null,a,e)},render:function(){{var t=this;this.props.location.query||{}}return l["default"].createElement("div",{className:"c-page my-fav-page"},l["default"].createElement(u["default"],{filterVisible:!1,showSideNav:this.props.showSideNav},"我的关注"),l["default"].createElement("div",{className:"c-body"},this.state.list.map(function(e,a){return l["default"].createElement(h["default"],{onItemClick:t.onItemClick,key:a,data:e,type:6,onDelete:t.onDelete})}),this.state.loading?l["default"].createElement(p["default"],null):null,this.state.loading||this.state.list.length?null:l["default"].createElement("p",{className:"center mt6 c999"},"您还未关注应用")))}});e["default"]=C,a.exports=e["default"]});