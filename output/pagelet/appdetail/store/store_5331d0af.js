define("pagelet/appdetail/store/store",function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=t("reflux"),r=a(o),s=t("pagelet/appdetail/action/action"),n=a(s),l=r["default"].createStore({init:function(){this.listenTo(n["default"].appInfo,this.loading),this.listenTo(n["default"].appInfoCmp,this.appInfoCmp),this.listenTo(n["default"].appLevel,this.loading),this.listenTo(n["default"].appLevelCmp,this.appLevelCmp),this.listenTo(n["default"].commentDetail,this.loading),this.listenTo(n["default"].commentDetailCmp,this.commentDetailCmp),this.listenTo(n["default"].ranklatest,this.loading),this.listenTo(n["default"].ranklatestCmp,this.ranklatestCmp),this.listenTo(n["default"].detailVersion,this.loading),this.listenTo(n["default"].detailVersionCmp,this.detailVersionCmp),this.listenTo(n["default"].keywordCover,this.loading),this.listenTo(n["default"].keywordCoverCmp,this.keywordCoverCmp),this.listenTo(n["default"].isFavCmp,this.isFavCmp),this.listenTo(n["default"].addFavCmp,this.addFavCmp)},loading:function(){this.trigger({loading:!0})},appInfoCmp:function(t){var e={loading:!1};t&&"error"==t.statusText?e.errorText=t.statusText:t&&(e.detailInfo=t),this.trigger(e)},detailVersionCmp:function(t){var e={loading:!1};t&&"error"==t.statusText?e.errorText=t.statusText:t&&(e.versions=t),this.trigger(e)},appLevelCmp:function(t){var e={loading:!1};if(t["当前版本"]){var i=t["当前版本"],a=i.starCount;for(var o in a){var r={};i[o]=r,r.count=parseInt(a[o]),r.percentage=0===r.count?r.count:r.count/parseInt(i.totalCount)}e.cur=i}if(t["历史版本"]){var i=t["历史版本"],a=i.starCount;for(var o in a){var r={};i[o]=r,r.count=parseInt(a[o]),r.percentage=0===r.count?r.count:r.count/parseInt(i.totalCount)}e.history=i}t&&"error"==t.statusText&&(e.errorText="error"),this.trigger(e)},commentDetailCmp:function(t){console.log(t);var e,i=[];if(e=t.comment)for(var a in e)i.push(e[a]);var o={loading:!1};o.list=i,t&&"error"==t.statusText&&(o.errorText=t.statusText),this.trigger(o)},ranklatestCmp:function(t){var e={loading:!1};t.data&&t.data.length&&(e.top1=t.data[0],e.top2=t.data[1]),this.trigger(e)},addFavCmp:function(t){var e={isEight:300==t.status?!0:!1};this.trigger(e)},isFavCmp:function(t){var e={};200==t.status&&(e.isFav=!0),this.trigger(e)},keywordCoverCmp:function(t){var e={loading:!1};t&&t.length>0&&(e.keywords=t),this.trigger(e)}});e["default"]=l,i.exports=e["default"]});