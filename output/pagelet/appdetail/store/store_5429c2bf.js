define("pagelet/appdetail/store/store",function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=t("reflux"),s=i(n),r=t("pagelet/appdetail/action/action"),o=i(r),l=s["default"].createStore({init:function(){this.listenTo(o["default"].appInfo,this.loading),this.listenTo(o["default"].appInfoCmp,this.appInfoCmp),this.listenTo(o["default"].appLevel,this.loading),this.listenTo(o["default"].appLevelCmp,this.appLevelCmp),this.listenTo(o["default"].commentDetail,this.loading),this.listenTo(o["default"].commentDetailCmp,this.commentDetailCmp),this.listenTo(o["default"].ranklatest,this.loading),this.listenTo(o["default"].ranklatestCmp,this.ranklatestCmp),this.listenTo(o["default"].detailVersion,this.loading),this.listenTo(o["default"].detailVersionCmp,this.detailVersionCmp),this.listenTo(o["default"].isFavCmp,this.isFavCmp),this.listenTo(o["default"].addFavCmp,this.addFavCmp)},loading:function(){this.trigger({loading:!0})},appInfoCmp:function(t){var e={loading:!1};t&&"error"==t.statusText?e.errorText=t.statusText:t&&(e.detailInfo=t),this.trigger(e)},detailVersionCmp:function(t){var e={loading:!1};t&&"error"==t.statusText?e.errorText=t.statusText:t&&(e.versions=t),this.trigger(e)},appLevelCmp:function(t){var e={loading:!1};if(t["当前版本"]){var a=t["当前版本"],i=a.starCount;for(var n in i){var s={};a[n]=s,s.count=parseInt(i[n]),s.percentage=0===s.count?s.count:s.count/parseInt(a.totalCount)}e.cur=a}if(t["历史版本"]){var a=t["历史版本"],i=a.starCount;for(var n in i){var s={};a[n]=s,s.count=parseInt(i[n]),s.percentage=0===s.count?s.count:s.count/parseInt(a.totalCount)}e.history=a}t&&"error"==t.statusText&&(e.errorText="error"),this.trigger(e)},commentDetailCmp:function(t){console.log(t);var e,a=[];if(e=t.comment)for(var i in e)a.push(e[i]);var n={loading:!1};n.list=a,t&&"error"==t.statusText&&(n.errorText=t.statusText),this.trigger(n)},ranklatestCmp:function(t){var e={loading:!1};t.data&&t.data.length&&(e.top1=t.data[0],e.top2=t.data[1]),this.trigger(e)},addFavCmp:function(t){var e={isEight:300==t.status?!0:!1};this.trigger(e)},isFavCmp:function(t){var e={};200==t.status&&(e.isFav=!0),this.trigger(e)}});e["default"]=l,a.exports=e["default"]});