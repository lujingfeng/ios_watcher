define("pagelet/appdetail/components/baseinfo.jsx",function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=e("react"),i=l(n),s=e("reactRouter"),u=e("static/minxins/utils"),c=e("pagelet/appdetail/action/action"),d=l(c),o=e("pagelet/appdetail/store/store"),r=l(o),f=i["default"].createClass({displayName:"BaseInfo",mixins:[s.History],getInitialState:function(){return{isFav:!1}},componentDidMount:function(){this.unSubscribe=r["default"].listen(this.onStateChange.bind(this)),d["default"].isFav(this.props.query.id)},componentWillUnmount:function(){this.unSubscribe()},onStateChange:function(e){e.isEight&&(e.isFav=!1),this.setState(e)},toCompare:function(){this.history.pushState(null,"/comp_analysis",this.props.query)},onFav:function(){!u.getCookie("uname");var e=this.props.query,t=!this.state.isFav;this.setState({isFav:t}),d["default"].addFav(e.id,t?"attention":"cancel")},render:function(){var e=this.props.query,t=window.innerWidth-190;return i["default"].createElement("div",{className:"c-app-base-info"},i["default"].createElement("table",null,i["default"].createElement("tr",null,i["default"].createElement("td",null,i["default"].createElement("img",{src:e.icon,className:"app-icon"})),i["default"].createElement("td",null,i["default"].createElement("p",{className:"title ellipsis",style:{width:t}},e.title),i["default"].createElement("p",{className:"f12 c666 ellipsis",style:{width:t}},e.developer)),i["default"].createElement("td",null,i["default"].createElement("div",{className:"vs",onClick:this.toCompare},i["default"].createElement("div",{className:"icon-vs"}),i["default"].createElement("p",{className:"f12"},"排名对比"))),i["default"].createElement("td",null,i["default"].createElement("div",{className:"fav",onClick:this.onFav},i["default"].createElement("div",{className:"icon-fav "+(0==this.state.isFav?"fav-un":"fav-added")}),i["default"].createElement("p",{className:"f12"},this.state.isFav?"取消关注":"添加关注"))))))}});t["default"]=f,a.exports=t["default"]});