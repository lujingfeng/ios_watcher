define("pagelet/appdetail/components/baseinfo.jsx",function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("react"),n=l(i),s=e("reactRouter"),c=e("static/minxins/utils"),u=e("pagelet/appdetail/action/action"),d=l(u),o=e("pagelet/appdetail/store/store"),r=l(o),f=n["default"].createClass({displayName:"BaseInfo",mixins:[s.History],getInitialState:function(){return{isFav:!1}},componentDidMount:function(){this.unSubscribe=r["default"].listen(this.onStateChange.bind(this)),d["default"].isFav(this.props.query.id)},componentWillUnmount:function(){this.unSubscribe()},onStateChange:function(e){e.isEight&&(e.isFav=!1),this.setState(e)},toCompare:function(){this.history.pushState(null,"/comp_analysis",this.props.query)},onFav:function(){c.getCookie;var e=this.props.query,t=!this.state.isFav;this.setState({isFav:t}),d["default"].addFav(e.id,t?"attention":"cancel")},render:function(){var e=this.props.query,t=window.innerWidth-190;return n["default"].createElement("div",{className:"c-app-base-info"},n["default"].createElement("table",null,n["default"].createElement("tr",null,n["default"].createElement("td",null,n["default"].createElement("img",{src:e.icon,className:"app-icon"})),n["default"].createElement("td",null,n["default"].createElement("p",{className:"title ellipsis",style:{width:t}},e.title),n["default"].createElement("p",{className:"f12 c666 ellipsis",style:{width:t}},e.developer)),n["default"].createElement("td",null,n["default"].createElement("div",{className:"vs",onClick:this.toCompare},n["default"].createElement("div",{className:"icon-vs"}),n["default"].createElement("p",{className:"f12"},"排名对比"))),n["default"].createElement("td",null,n["default"].createElement("div",{className:"fav",onClick:this.onFav},n["default"].createElement("div",{className:"icon-fav "+(0==this.state.isFav?"fav-un":"fav-added")}),n["default"].createElement("p",{className:"f12"},this.state.isFav?"取消关注":"添加关注"))))))}});t["default"]=f,a.exports=t["default"]});