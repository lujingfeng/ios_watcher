define("pagelet/appdetail/components/version_log",function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=e("pagelet/appdetail/action/action"),u=a(l),i=e("pagelet/appdetail/store/store"),r=a(i),d=e("react"),o=a(d),c=e("jquery"),s=a(c),f=e("pagelet/widget/components/loading.jsx"),p=a(f),m=o["default"].createClass({displayName:"VersionLog",getInitialState:function(){return{loading:!0,versions:[]}},componentDidMount:function(){this.unSubscribe=r["default"].listen(this.onStateChange.bind(this));var e=this.props.query;u["default"].detailVersion({country:e.country,device:e.device,appId:e.id})},componentWillUnmount:function(){this.unSubscribe()},onStateChange:function(e){this.setState(e)},render:function(){return o["default"].createElement("div",{className:"version-log"},o["default"].createElement("h5",{className:"title"},o["default"].createElement("i",null),"版本记录"),o["default"].createElement("table",{className:"border"},o["default"].createElement("tr",null,o["default"].createElement("th",{style:{width:50}},"版本"),o["default"].createElement("th",{style:{width:100}},"更新时间"),o["default"].createElement("th",null,"更新说明")),this.state.versions.map(function(e,t){var n=!1,a="",l=30,u="ver_"+t;e.updatecontent&&e.updatecontent.length>l?(a=e.updatecontent.substring(0,l)+"...",n=!0):a=e.updatecontent;var i=function(t){s["default"](t.target.parentNode).find(".f-icon").toggleClass("expand"),n=!n,s["default"]("#"+u).text(n?a:e.updatecontent)};return o["default"].createElement("tr",null,o["default"].createElement("td",null,e.versionName),o["default"].createElement("td",null,e.begintime),o["default"].createElement("td",{onClick:i},o["default"].createElement("span",{id:u},a),n?o["default"].createElement("i",{className:"f-icon"}):null))})),this.state.loading?o["default"].createElement(p["default"],null):null,this.state.errorText?o["default"].createElement("p",{className:"center c999"},"暂无数据"):null)}});t["default"]=m,n.exports=t["default"]});